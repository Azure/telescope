parameters:
- name: cloud
  type: string
- name: topology
  type: string
- name: engine
  type: string
- name: engine_input
  type: object
  default: {}
- name: regions
  type: object
  default: {}
- name: node_count
  type: string
- name: max_pods
  type: string
- name: load
  type: object
  default: {}
- name: load_type
  type: string
- name: operation_timeout
  type: string
- name: eviction_hard_memory
  type: string
  default: "100Mi"


steps:
- template: /steps/topology/${{ parameters.topology }}/execute-${{ parameters.engine }}.yml@self
  parameters:
    cloud: ${{ parameters.cloud }}
    engine_input: ${{ parameters.engine_input }}
    regions: ${{ parameters.regions }}
    topology: ${{ parameters.topology }}
    node_count: ${{ parameters.node_count }}
    max_pods: ${{ parameters.max_pods }}
    load: ${{ parameters.load }}
    load_type: ${{ parameters.load_type }}
    operation_timeout: ${{ parameters.operation_timeout }}
    eviction_hard_memory: ${{ parameters.eviction_hard_memory }}

