parameters:
- name: region
  type: string
- name: role
  type: string
- name: enable_autoscale
  type: string

steps:
- script: |
    # Make required scripts executable and run the simplified script
    chmod +x $(System.DefaultWorkingDirectory)/steps/engine/clusterloader2/swiftv2-slo/aks-utils.sh
    chmod +x $(System.DefaultWorkingDirectory)/steps/engine/clusterloader2/swiftv2-slo/scale-cluster.sh
    $(System.DefaultWorkingDirectory)/steps/engine/clusterloader2/swiftv2-slo/scale-cluster.sh
  env:
    REGION: ${{ parameters.region }}
    ROLE: ${{ parameters.role }}
    RUN_ID: $(RUN_ID)
  displayName: "Scale Cluster"

